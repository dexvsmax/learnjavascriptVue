<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

    <title>Learn javascript | Vue.js</title>
</head>
<body>
    <style>
        [v-cloak] {
            display: none;
        }
    </style>

    <div class="container" id="app" v-cloak>
        <div class="row">
            <div class="col-md-12">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav">
                            <li class="nav-item" v-bind:class="(currentPage == 'home') ? 'active' : ''">
                                <a class="nav-link" v-on:click.prevent="setCurrentPage('home')">User`s list</a>
                            </li>
                            <li class="nav-item" v-bind:class="(currentPage == 'add') ? 'active' : ''">
                                <a class="nav-link" v-on:click.prevent="setCurrentPage('add')">Add user</a>
                            </li>
                        </ul>
                    </div>
                </nav>

                <users-list v-if="currentPage == 'home'" v-bind:list="users" v-on:remove="parentRemove" v-on:edit="parentEdit"></users-list>

                <user-add v-if="currentPage == 'add'" v-bind:user="currentUser" v-on:added="parentAdded" v-on:edited="parentEdited"></user-add>
            </div>
        </div>
    </div>


    <template id="list">
        <div v-if="!haveUsers">
            <h1>Нет пользователей для отображения</h1>
        </div>
        <div v-else>
            <h1>user`s list</h1>
            <table class="table">
                <thead>
                <tr>
                    <th scope="col">id</th>
                    <th scope="col">name</th>
                    <th scope="col">username</th>
                    <th scope="col">email</th>
                    <th scope="col">phone</th>
                    <th scope="col"></th>
                    <th scope="col"></th>
                </tr>
                </thead>
                <tbody>
                <tr v-for="(item, index) in list" v-bind:key="item.id">
                    <th scope="row">{{item.id}}</th>
                    <td>{{item.name}}</td>
                    <td>{{item.username}}</td>
                    <td>{{item.email}}</td>
                    <td>{{item.phone}}</td>
                    <td><button type="button" v-on:click="edit(index)">edit</button></td>
                    <td><button type="button" v-on:click="remove(item.id)">remove</button></td>
                </tr>
                </tbody>
            </table>
        </div>
    </template>

    <template id="add">
        <div class="row">
            <h1 class="col-md-12">add user</h1>
            <div class="col-md-6">
                <form>
                    <div class="form-group">
                        <label for="inputName">Name</label>
                        <input type="text" class="form-control" id="inputName" name="name" placeholder="Enter name" v-model="userData.name">
                    </div>
                    <div class="form-group">
                        <label for="inputUsername">Username</label>
                        <input type="text" class="form-control" id="inputUsername" name="username" placeholder="Enter username" v-model="userData.username">
                    </div>
                    <div class="form-group">
                        <label for="inputEmail">Email</label>
                        <input type="email" class="form-control" id="inputEmail" name="email" placeholder="Enter email" v-model="userData.email">
                    </div>
                    <div class="form-group">
                        <label for="inputPhone">Phone</label>
                        <input type="text" class="form-control" id="inputPhone" name="phone" placeholder="Enter phone" v-model="userData.phone">
                    </div>
                    <button type="submit" class="btn btn-primary" v-on:click.prevent="addUser()">Submit</button>
                </form>
            </div>
        </div>
    </template>

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="list.js"></script>
    <script src="add.js"></script>
    <script src="index.js"></script>
</body>
</html>